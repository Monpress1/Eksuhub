<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100 Level Courses</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0; 
            display: flex;
            flex-direction: column; 
            min-height: 100vh; 
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            flex: 1; 
            max-width: 800px;
            margin: 20px auto; 
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #0056b3;
            text-align: center;
        }
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            background: #e9e9e9;
            margin-bottom: 8px;
            padding: 10px 15px;
            border-radius: 4px;
            transition: background-color 0.3s ease; 
        }
        li:hover {
            background-color: #dcdcdc; 
        }
        li a {
            text-decoration: none; 
            color: #333; 
            display: block; 
            font-weight: bold;
        }
        li a:hover {
            color: #007bff; 
        }

        #facultyNameDisplay {
            font-size: 1.2em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #007bff;
        }
        #loadingMessage {
            text-align: center;
            color: #555;
            font-style: italic;
        }
        #errorMessage {
            text-align: center;
            color: red;
            font-weight: bold;
            margin-top: 20px;
        }

        /* NEW: Separator style for clarity */
        .separator {
            border-top: 2px solid #ddd;
            margin: 30px 0;
        }

        /* --- Bottom Navigation Menu Styles (Existing) --- */
        .bottom-nav {
            background-color: #ffffff; 
            color: #555; 
            padding: 5px 0; 
            text-align: center;
            position: sticky;
            bottom: 0;
            width: 100%;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05); 
            margin-top: auto;
            border-top: 1px solid #eee; 
        }
        .bottom-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 60px; 
        }
        .bottom-nav li {
            background-color: transparent; 
            margin-bottom: 0;
            padding: 0;
            border-radius: 0;
            flex-grow: 1;
        }
        .bottom-nav a {
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            color: #555; 
            text-decoration: none;
            height: 100%; 
            padding: 5px 0; 
            font-size: 0.85em; 
            transition: color 0.3s ease; 
        }
        .bottom-nav a:hover {
            color: #007bff; 
        }
        .bottom-nav a i {
            font-size: 1.5em; 
            margin-bottom: 4px; 
            color: #777; 
            transition: color 0.3s ease;
        }
        .bottom-nav a:hover i {
            color: #007bff; 
        }
        .bottom-nav a.active {
            color: #007bff; 
        }
        .bottom-nav a.active i {
            color: #007bff; 
        }
        
        /* Styles for the manual input section */
        #manualCourseInput {
            margin: 0 0 30px 0; 
            padding: 20px;
            border: 1px dashed #0056b3; 
            border-radius: 8px;
            text-align: center;
            background-color: #e6f0ff; 
        }
        #courseTitleInput {
            padding: 10px;
            width: 90%;
            max-width: 450px;
            margin: 10px 0;
            border: 1px solid #007bff;
            border-radius: 4px;
            font-size: 1em;
            box-sizing: border-box;
        }
        #manualStartButton {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s ease;
            display: block;
            width: 90%;
            max-width: 250px;
            margin: 15px auto 0;
        }
        #manualStartButton:hover {
            background-color: #218838;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <div class="container">
        <h1>Welcome to 100 Level!</h1>
        
        <div id="manualCourseInput">
            <p>Enter a course title or topic to start an instant quiz:</p>
            <input type="text" id="courseTitleInput" placeholder="e.g., GST 101, BIO 101">
            <button id="manualStartButton">Start Quiz</button>
        </div>
        
        <p id="loadingMessage">Loading courses...</p>
        
        <div id="userFacultyCourses" style="display: none;">
            <h2 id="facultyNameDisplay"></h2>
            <h3 id="facultyFirstSemesterTitle"></h3>
            <ul id="facultyFirstSemesterList"></ul>
            
            <h3 id="facultySecondSemesterTitle"></h3>
            <ul id="facultySecondSemesterList"></ul>
            
            <div class="separator"></div>
        </div>
        
        <div id="allAvailableCourses" style="display: none;">
            <h2>Browse All 100-Level Courses</h2>
            
            <h3 id="allFirstSemesterTitle"></h3>
            <ul id="allFirstSemesterList"></ul>
            
            <h3 id="allSecondSemesterTitle"></h3>
            <ul id="allSecondSemesterList"></ul>
        </div>
        
        <p id="errorMessage" style="display: none;"></p>
    </div>

    <nav class="bottom-nav">
        <ul>
            <li><a href="index.html">
                <i class="fas fa-home"></i>
                Home
            </a></li>
            <li><a href="chat.html">
                <i class="fas fa-comments"></i>
                Chat
            </a></li>
            <li><a href="news.html">
                <i class="fas fa-newspaper"></i>
                News
            </a></li>
            <li><a href="market.html">
                <i class="fas fa-store"></i>
                Market
            </a></li>
            <li><a href="profile.html">
                <i class="fas fa-user"></i>
                Profile
            </a></li>
        </ul>
    </nav>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const loadingMessage = document.getElementById('loadingMessage');
        const userFacultyCoursesDiv = document.getElementById('userFacultyCourses');
        const allAvailableCoursesDiv = document.getElementById('allAvailableCourses');
        const facultyNameDisplay = document.getElementById('facultyNameDisplay');
        
        const facultyFirstSemesterList = document.getElementById('facultyFirstSemesterList');
        const facultySecondSemesterList = document.getElementById('facultySecondSemesterList');
        const facultyFirstSemesterTitle = document.getElementById('facultyFirstSemesterTitle');
        const facultySecondSemesterTitle = document.getElementById('facultySecondSemesterTitle');

        const allFirstSemesterList = document.getElementById('allFirstSemesterList');
        const allSecondSemesterList = document.getElementById('allSecondSemesterList');
        const allFirstSemesterTitle = document.getElementById('allFirstSemesterTitle');
        const allSecondSemesterTitle = document.getElementById('allSecondSemesterTitle');
        
        const errorMessage = document.getElementById('errorMessage');
        const courseTitleInput = document.getElementById('courseTitleInput');
        const manualStartButton = document.getElementById('manualStartButton');

        const userFaculty = localStorage.getItem('faculty');
        const normalizedUserFaculty = userFaculty ? userFaculty.trim() : null;

        // --- Course Data ---
        const facultyCourses100L = {
            "Agriculture": {
                firstSemester: ["BIO 101: General Biology I", "CHM 101: General Chemistry I", "PHY 101: General Physics I", "MTH 101: General Mathematics I", "GST 101: Use of English I"],
                secondSemester: ["BIO 102: General Biology II", "CHM 102: General Chemistry II", "MTH 102: General Mathematics II", "GST 102: Use of English II"]
            },
            "Arts": {
                firstSemester: ["ENG 101: Introduction to English Language", "PHL 101: Introduction to Philosophy", "HIS 101: Introduction to History I", "GST 101: Use of English I"],
                secondSemester: ["LIT 101: Introduction to Literature", "HIS 102: Introduction to History II", "GST 102: Use of English II"]
            },
            "Medicine": { 
                firstSemester: ["BIO 101: General Biology I", "CHM 101: General Chemistry I", "PHY 101: General Physics I", "MTH 101: General Mathematics I", "GST 101: Use of English I"],
                secondSemester: ["BIO 102: General Biology II", "CHM 102: General Chemistry II", "PHY 102: General Physics II", "MTH 102: General Mathematics II", "GST 102: Use of English II"]
            },
            "Education": {
                firstSemester: ["EDU 101: Introduction to Education", "EDU 103: Educational Psychology", "GST 101: Use of English I"],
                secondSemester: ["EDU 102: Foundations of Education", "EDU 104: Sociology of Education", "GST 102: Use of English II"]
            },
            "Engineering": {
                firstSemester: ["MTH 101: General Mathematics I", "PHY 101: General Physics I", "CHM 101: General Chemistry I", "ENG 101: Introduction to Engineering", "GST 101: Use of English I"],
                secondSemester: ["MTH 102: General Mathematics II", "PHY 102: General Physics II", "CHM 102: General Chemistry II", "GST 102: Use of English II"]
            },
            "Environmental Sciences": {
                firstSemester: ["MTH 101: General Mathematics I", "PHY 101: General Physics I", "CHM 101: General Chemistry I", "GST 101: Use of English I"],
                secondSemester: ["MTH 102: General Mathematics II", "PHY 102: General Physics II", "CHM 102: General Chemistry II", "GST 102: Use of English II"]
            },
            "Law": {
                firstSemester: ["LAW 101: Introduction to Law I", "LAW 103: Legal Methods I", "GST 101: Use of English I"],
                secondSemester: ["LAW 102: Introduction to Law II", "LAW 104: Legal Methods II", "GST 102: Use of English II"]
            },
            "Management Sciences": {
                firstSemester: ["ACC 101: Principles of Accounting I", "BUS 101: Introduction to Business I", "ECO 101: Principles of Economics I", "MTH 101: General Mathematics I", "GST 101: Use of English I"],
                secondSemester: ["ACC 102: Principles of Accounting II", "BUS 102: Introduction to Business II", "ECO 102: Principles of Economics II", "MTH 102: General Mathematics II", "GST 102: Use of English II"]
            },
            "Science": {
                firstSemester: ["BIO 101: General Biology I", "CHM 101: General Chemistry I", "PHY 101: General Physics I", "MTH 101: General Mathematics I", "GST 101: Use of English I"],
                secondSemester: ["BIO 102: General Biology II", "CHM 102: General Chemistry II", "PHY 102: General Physics II", "MTH 102: General Mathematics II", "GST 102: Use of English II"]
            },
            "Social Sciences": {
                firstSemester: ["ECO 101: Principles of Economics I", "POL 101: Introduction to Political Science", "PSY 101: Introduction to Psychology", "GST 101: Use of English I"],
                secondSemester: ["ECO 102: Principles of Economics II", "SOC 101: Introduction to Sociology", "GST 102: Use of English II"]
            },
            "Petroleum Studies": {
                firstSemester: ["GST 101: Use of English I"],
                secondSemester: ["GST 102: Use of English II"]
            } 
        };

        // --- Core Functions ---

        function handleCourseClick(event) {
            event.preventDefault(); 
            const selectedCourseName = event.currentTarget.textContent.trim();
            localStorage.setItem('selectedCourse', selectedCourseName);
            window.location.href = 'aiexam.html'; 
        }

        function handleManualCourseStart() {
            const courseText = courseTitleInput.value.trim();
            if (courseText) {
                localStorage.setItem('selectedCourse', courseText);
                window.location.href = 'aiexam.html'; 
            } else {
                alert("Please enter a course code or topic title to start the quiz.");
            }
        }
        
        // Function to populate a course list
        function populateCourseList(courseArray, targetUl) {
            targetUl.innerHTML = ''; // Clear previous list
            if (!courseArray || courseArray.length === 0) {
                const listItem = document.createElement('li');
                listItem.textContent = "No courses listed for this semester in this category.";
                listItem.style.fontStyle = "italic";
                listItem.style.color = "#888";
                targetUl.appendChild(listItem);
                return;
            }
            // De-duplicate and sort the array
            const uniqueSortedCourses = [...new Set(courseArray)].sort();
            
            uniqueSortedCourses.forEach(courseText => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');

                link.href = "#"; 
                link.textContent = courseText;
                link.addEventListener('click', handleCourseClick); 

                listItem.appendChild(link);
                targetUl.appendChild(listItem);
            });
        }
        
        // Function to aggregate all courses
        function getAllCourses() {
            const allFirstSem = [];
            const allSecondSem = [];
            
            for (const faculty in facultyCourses100L) {
                const data = facultyCourses100L[faculty];
                if (data.firstSemester) {
                    allFirstSem.push(...data.firstSemester);
                }
                if (data.secondSemester) {
                    allSecondSem.push(...data.secondSemester);
                }
            }

            return {
                firstSemester: allFirstSem,
                secondSemester: allSecondSem
            };
        }

        // --- Execution Logic ---
        
        loadingMessage.style.display = 'none';
        allAvailableCoursesDiv.style.display = 'block'; // Always show all courses section

        // 1. Handle User's Specific Faculty (Display on top if found)
        if (normalizedUserFaculty && facultyCourses100L[normalizedUserFaculty]) {
            
            const facultyData = facultyCourses100L[normalizedUserFaculty];
            
            userFacultyCoursesDiv.style.display = 'block';
            facultyNameDisplay.textContent = `Your Courses: Faculty of ${normalizedUserFaculty}`;
            facultyFirstSemesterTitle.textContent = "First Semester Courses:";
            facultySecondSemesterTitle.textContent = "Second Semester Courses:";

            populateCourseList(facultyData.firstSemester || [], facultyFirstSemesterList);
            populateCourseList(facultyData.secondSemester || [], facultySecondSemesterList);

        } else {
            // User faculty not set or not found, hide the top section and show a message
            userFacultyCoursesDiv.style.display = 'none';
            errorMessage.style.display = 'block';
            errorMessage.textContent = "Your faculty is not set. Browse all courses below or go to your Profile to set it for a personalized list.";
            errorMessage.style.color = '#0056b3'; 
        }

        // 2. Display All Available Courses (Always displayed in its own section)
        const allCourses = getAllCourses();
        
        allFirstSemesterTitle.textContent = "All First Semester Courses:";
        allSecondSemesterTitle.textContent = "All Second Semester Courses:";
        
        populateCourseList(allCourses.firstSemester, allFirstSemesterList);
        populateCourseList(allCourses.secondSemester, allSecondSemesterList);

        // Event Listener for the manual input button
        manualStartButton.addEventListener('click', handleManualCourseStart);
    });
    </script>


</body>
</html>
