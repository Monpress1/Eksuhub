<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background-color: #f4f6fa;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-bottom: 60px; /* To prevent news from overlaying the bottom menu */
    }

    .header {
      background-color: #303f9f;
      color: white;
      padding: 24px;
      width: 90%;
      text-align: center;
      animation: extendHeader 3s alternate;
      position: fixed; /* Make the header fixed */
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100; /* Ensure it stays on top */
      overflow: hidden;
      border-bottom-left-radius: 30px; /* Add a subtle curve */
      border-bottom-right-radius: 30px; /* Add a subtle curve */
      box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Optional shadow for better separation */
    }

    .header h1 {
      margin: 0;
      font-size: 1.2rem;
    }

    .header h2 {
      margin: 5px 0 0;
      font-size: 1.8rem;
    }

    .header .user-level {
      color: #fdd835;
      font-size: 0.9rem;
      margin-top: 2px;
    }

    @keyframes extendHeader {
      0% { transform: translateX(-50%) scaleX(1); }
      50% { transform: translateX(-50%) scaleX(1.05); }
      100% { transform: translateX(-50%) scaleX(1); }
    }

    .wave {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 30px;
      background-color: #303f9f;
      clip-path: url(#wave);
    }

    .container {
      width: 90%;
      max-width: 800px;
      margin-top: 100px; /* Adjust margin to accommodate fixed header */
      margin-bottom: 80px;
    }

    .quick-start {
      background-color: #dbeafe;
      color: #1e3a8a;
      padding: 20px;
      text-align: center;
      border-radius: 12px;
      font-weight: bold;
      font-size: 1rem;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      cursor: pointer; /* Make it clickable */
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
    }

    .module-card {
      background-color: white;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      transition: transform 0.2s ease;
      cursor: pointer; /* Make it clickable */
    }

    .module-card:hover {
      transform: translateY(-3px);
    }

    .module-card i {
      font-size: 2rem;
      margin-bottom: 10px;
      color: #ff8f00; /* Dark orange color */
      display: block;
      -webkit-text-stroke: 1px #ff8f00; /* Outline for webkit browsers */
      text-stroke: 1px #ff8f00; /* Standard outline property */
      -webkit-font-smoothing: antialiased; /* Improve font rendering */
    }

    .module-card h3 {
      margin-top: 0;
      color: #1e3a8a;
      font-size: 1.1rem;
    }

    .module-card p {
      color: #6b7280;
      font-size: 0.9rem;
      line-height: 1.5;
      margin: 10px 0 0;
    }

    .news-carousel {
      position: relative;
      height: 200px;
      margin: 30px 0;
      overflow: hidden;
    }

    .news-slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      opacity: 0;
      transition: opacity 1s ease-in-out;
      display: flex;
      gap: 15px;
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      padding: 10px;
      align-items: center;
    }

    .news-slide.active {
      opacity: 1;
      z-index: 1;
    }

    .news-slide img {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      object-fit: cover;
    }

    .news-slide div {
      flex: 1;
    }

    .news-slide h4 {
      margin: 0 0 5px;
      font-size: 1rem;
      color: #1e3a8a;
    }

    .news-slide p {
      margin: 0;
      font-size: 0.85rem;
      color: #6b7280;
    }

    .bottom-navigation {
      background-color: #ffffff;
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 10px 0;
      width: 100%;
      position: fixed; /* Make the bottom navigation fixed */
      bottom: 0;
      left: 0;
      border-top: 1px solid #e5e7eb;
      box-shadow: 0 -1px 3px rgba(0,0,0,0.05);
      z-index: 100; /* Ensure it stays on top */
    }

    .bottom-navigation a {
      text-decoration: none;
      color: #4b5563;
      font-size: 0.8rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .bottom-navigation i {
      font-size: 1.2rem;
      margin-bottom: 2px;
    }

    /* Reused modal styles from signup-modal */
    .signup-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    /* Reused form styles from signup-form */
    .signup-form {
      background-color: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      text-align: center;
      width: 90%;
      max-width: 400px; /* Limit width for modals */
    }

    .signup-form label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #374151;
      text-align: left; /* Align labels to left within the form */
    }

    .signup-form input,
    .signup-form select {
      width: calc(100% - 20px); /* Account for padding */
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #d1d5db;
      border-radius: 4px;
      box-sizing: border-box;
    }

    .signup-form button {
      background-color: #303f9f;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      margin: 5px; /* Add margin for buttons */
      width: auto; /* Allow buttons to size naturally */
    }

    .signup-form button:hover {
      background-color: #283593;
    }

    /* Styles for the choice modals */
    .choice-modal-content {
        background-color: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        text-align: center;
        width: 90%;
        max-width: 350px; /* Slightly smaller for choice modals */
    }
    .choice-modal-content h2 {
        color: #303f9f;
        margin-bottom: 20px;
    }
    .choice-modal-content button {
        background-color: #303f9f;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1.1rem;
        width: 100%; /* Make buttons full width */
        margin-bottom: 10px; /* Space between buttons */
        transition: background-color 0.2s;
    }
    .choice-modal-content button:hover {
        background-color: #283593;
    }
    .choice-modal-content button.cancel-btn {
        background-color: #6c757d; /* Grey for cancel */
    }
    .choice-modal-content button.cancel-btn:hover {
        background-color: #5a6268;
    }

    #welcomeMessage {
      overflow: hidden;
      white-space: nowrap;
      margin: 0 auto;
      letter-spacing: .05em;
      /* Initial state with blinking cursor */
      border-right: .15em solid orange;
      animation:
        typing 2s steps(20, end),
        blink-caret .75s step-end infinite;
    }

    #welcomeMessage.typing-complete {
      border-right: none; /* Remove blinking cursor */
    }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }

    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: orange; }
    }
  </style>
</head>
<body>

  <div class="header">

    <h1>Welcome</h1>
    <h2 id="welcomeMessage">Welcome User</h2>
    <p id="userLevel" class="user-level"></p>
    <svg class="wave" viewBox="0 24 150 40" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave" d="M-120 47c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 30 v44h-352z" />
      </defs>
      <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7)" />
      <use xlink:href="#gentle-wave" x="48" y="8" fill="rgba(255,255,255,0.7)" />
      <use xlink:href="#gentle-wave" x="4" y="25" fill="white" />
    </svg>
  </div>
<br><br><br>
  <div class="container">
    <div class="quick-start" onclick="window.location.href='exam.html'">Quick Start Exam</div>

    <div class="grid-container">
      <div class="module-card" onclick="openAcademicsChoiceModal()">
        <i class="fas fa-book-open"></i>
        <h3>Academics</h3>
        <p>Past Questions, Mock Exam, Profile, FAQ</p>
      </div>
      <div class="module-card" onclick="openCommunityChoiceModal()">
        <i class="fas fa-users"></i>
        <h3>Community</h3>
        <p>Chat, Clubs, Lost & Found</p>
      </div>
      <div class="module-card" onclick="window.location.href='news.html'">
        <i class="fas fa-info-circle"></i>
        <h3>Information</h3>
        <p>News, Directory, Multilingual</p>
      </div>
      <div class="module-card" onclick="window.location.href='market.html'">
        <i class="fas fa-shopping-cart"></i>
        <h3>Marketplace</h3>
        <p>Buy & Sell, Listings</p>
      </div>
    </div>

    <div class="news-carousel">
      <div class="news-slide active">
        <img src="img1.jpg" alt="News 1">
        <div>
          <h4>Eksu smartschool Wi-Fi Upgraded</h4>
          <p>Faster internet now available across all faculties and hostels.</p>
        </div>
      </div>
      <div class="news-slide">
        <img src="img6.jpg" alt="News 2">
        <div>
          <h4>Interfaculty Sports</h4>
          <p>Get ready for this semester's games. Sign up.</p>
        </div>
      </div>
      
    <a href="market.html">   <div class="news-slide">
        <img src="img5.jpg" alt="News 4">
        <div>
          <h4>Eksu Marketplace</h4>
          <p>Sell your products, buy from fellow students</p>
        </div>
      </div></a>
      <div class="news-slide">
        <img src="img2.jpg" alt="News 3">
        <div>
          <h4>Tech society</h4>
          <p>Eksu Tech Hub. along banking area</p>
        </div>
      </div>
    </div>

    <div id="signupModal" class="signup-modal">
      <div class="signup-form">
        <h2>Welcome! Please sign up</h2>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>

        <label for="profileFaculty">Faculty:</label>
        <select id="profileFaculty" name="faculty" required>
          <option value="" disabled selected>Select Faculty</option>
        </select>

        <label for="profileCourse">Department/Course of Study:</label>
        <select id="profileCourse" name="department" required>
          <option value="" disabled selected>Select Department/Course</option>
        </select>

        <label for="level">Level:</label>
        <select id="level" name="level" required>
          <option value="">Select Level</option>
          <option value="100">100</option>
          <option value="200">200</option>
          <option value="300">300</option>
          <option value="400">400</option>
          <option value="500">500</option>
        </select>

        <button onclick="handleSignup()">Sign Up</button>
      </div>
    </div>

    <div id="examSelectionModal" class="signup-modal">
        <div class="signup-form">
            <h2>Select Your Mock Exam</h2>
            <label for="examFaculty">Faculty:</label>
            <select id="examFaculty" required>
              <option value="" disabled selected>Select Faculty</option>
            </select>

            <label for="examDepartment">Department:</label>
            <select id="examDepartment" required>
              <option value="" disabled selected>Select Department/Course</option>
            </select>

            <label for="examLevel">Level:</label>
            <select id="examLevel" required>
              <option value="">Select Level</option>
              <option value="100">100</option>
              <option value="200">200</option>
              <option value="300">300</option>
              <option value="400">400</option>
              <option value="500">500</option>
            </select>

            <label for="examCourseCode">Course Code (Optional):</label>
            <input type="text" id="examCourseCode" placeholder="e.g., ZOO 311">

            <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                <button onclick="closeExamSelectionModal()" style="background-color: #dc3545;">Cancel</button>
                <button onclick="startMockExam()">Start Exam</button>
            </div>
        </div>
    </div>

    <div id="academicsChoiceModal" class="signup-modal">
        <div class="choice-modal-content">
            <h2>Academics Options</h2>
            <button onclick="window.location.href='pdf.html'">Past Questions (PDF)</button>
          <a href="exam.html"><button>Mock Exam (CBE)</button></a>
            <button class="cancel-btn" onclick="closeAcademicsChoiceModal()">Cancel</button>
        </div>
    </div>

    <div id="communityChoiceModal" class="signup-modal">
        <div class="choice-modal-content">
            <h2>Community Options</h2>
            <button onclick="window.location.href='chat.html'">Chat</button>
            <button onclick="alert('Clubs page coming soon!')">Clubs</button>
            <button onclick="alert('Lost & Found page coming soon!')">Lost & Found</button>
            <button onclick="alert('All EKSU Groups page coming soon!')">All EKSU Groups</button>
            <button class="cancel-btn" onclick="closeCommunityChoiceModal()">Cancel</button>
        </div>
    </div>


  </div>

  <div class="bottom-navigation">
    <a href="#"><i class="fas fa-home"></i>Home</a>
    <a href="chat.html"><i class="fas fa-comments"></i>Chat</a>
    <a href="news.html"><i class="fas fa-newspaper"></i>News</a>
    <a href="market.html"><i class="fas fa-store"></i>Market</a>
    <a href="profile.html"><i class="fas fa-user"></i>Profile</a>
  </div>

  <script>
    const slides = document.querySelectorAll('.news-slide');
    let current = 0;

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.remove('active');
        if (i === index) slide.classList.add('active');
      });
    }

    setInterval(() => {
      current = (current + 1) % slides.length;
      showSlide(current);
    }, 4000);

    const signupModal = document.getElementById('signupModal');
    const welcomeMessageElement = document.getElementById('welcomeMessage');
    const userLevelDisplay = document.getElementById('userLevel');

    const nameInput = document.getElementById('name');
    const profileFacultySelect = document.getElementById('profileFaculty');
    const profileCourseSelect = document.getElementById('profileCourse');
    const levelSelect = document.getElementById('level');

    // --- NEW for Exam Selection Modal ---
    const examSelectionModal = document.getElementById('examSelectionModal');
    const examFacultySelect = document.getElementById('examFaculty');
    const examDepartmentSelect = document.getElementById('examDepartment');
    const examLevelSelect = document.getElementById('examLevel');
    const examCourseCodeInput = document.getElementById('examCourseCode');

    // --- NEW for Academics and Community Choice Modals ---
    const academicsChoiceModal = document.getElementById('academicsChoiceModal');
    const communityChoiceModal = document.getElementById('communityChoiceModal');


    // --- EKSU Courses Data ---
    // IMPORTANT: This list is simplified. You MUST expand this to be comprehensive
    // with all faculties and their actual departments/courses from EKSU.
    const eksuCourses = {
        "Agriculture": [
            "Agricultural Economics and Extension Services",
            "Animal Production & Health Sciences",
            "Crop, Horticulture and Landscape Design",
            "Fisheries and Aquaculture Management",
            "Food Science and Technology",
            "Forestry Resources and Wildlife Management",
            "Soil Resources and Environmental Management"
        ],
        "Arts": [
            "English and Literary Studies",
            "French",
            "History and International Studies",
            "Linguistics and Nigerian Languages",
            "Philosophy",
            "Religious Studies",
            "Theatre and Media Arts",
            "Yoruba"
        ],
        "Education": [
            "Adult Education",
            "Business Education",
            "Educational Management",
            "Guidance and Counselling",
            "Human Kinetics and Health Education",
            "Library and Information Science",
            "Science Education (Biology, Chemistry, Maths, Physics, Computer Science)",
            "Social Science Education (Economics, Geography, Political Science)",
            "Vocational and Technical Education"
        ],
        "Engineering": [
            "Civil Engineering",
            "Computer Engineering",
            "Electrical/Electronic Engineering",
            "Mechanical Engineering"
        ],
        "Law": [
            "Law"
        ],
        "Management Sciences": [
            "Accounting",
            "Actuarial Science",
            "Banking and Finance",
            "Business Administration",
            "Cooperative Studies",
            "Entrepreneurship",
            "Industrial Relations and Personnel Management",
            "Insurance",
            "Marketing",
            "Public Administration"
        ],
        "Medicine": [
            "Anatomy",
            "Medicine and Surgery",
            "Nursing",
            "Physiology"
        ],
        "Science": [
            "Biochemistry",
            "Biology",
            "Biotechnology",
            "Chemistry",
            "Computer Science",
            "Geology",
            "Geophysics",
            "Industrial Chemistry",
            "Mathematics",
            "Microbiology",
            "Physics",
            "Plant Sciences",
            "Science Laboratory Technology",
            "Statistics",
            "Zoology"
        ],
        "Social Sciences": [
            "Economics",
            "Environmental Management",
            "Geography and Planning Science",
            "Intelligence and Security Studies",
            "International Relations",
            "Mass Communication",
            "Peace and Conflict Resolution",
            "Political Science",
            "Psychology",
            "Social Work",
            "Sociology",
            "Tourism Studies"
        ]
    };

    // --- Functions for Profile Setup Dropdowns ---
    function populateFaculties() {
        profileFacultySelect.innerHTML = '<option value="" disabled selected>Select Faculty</option>';
        for (const faculty in eksuCourses) {
            const option = document.createElement('option');
            option.value = faculty;
            option.textContent = faculty;
            profileFacultySelect.appendChild(option);
        }
    }

    function populateCourses() {
        const selectedFaculty = profileFacultySelect.value;
        profileCourseSelect.innerHTML = '<option value="" disabled selected>Select Department/Course</option>';

        if (selectedFaculty && eksuCourses[selectedFaculty]) {
            eksuCourses[selectedFaculty].forEach(course => {
                const option = document.createElement('option');
                option.value = course;
                option.textContent = course;
                profileCourseSelect.appendChild(option);
            });
        }
    }
    profileFacultySelect.addEventListener('change', populateCourses);


    // --- Functions for Exam Selection Modal Dropdowns ---
    function populateExamFaculties() {
        examFacultySelect.innerHTML = '<option value="" disabled selected>Select Faculty</option>';
        for (const faculty in eksuCourses) {
            const option = document.createElement('option');
            option.value = faculty;
            option.textContent = faculty;
            examFacultySelect.appendChild(option);
        }
    }

    function populateExamDepartments() {
        const selectedFaculty = examFacultySelect.value;
        examDepartmentSelect.innerHTML = '<option value="" disabled selected>Select Department/Course</option>';

        if (selectedFaculty && eksuCourses[selectedFaculty]) {
            eksuCourses[selectedFaculty].forEach(department => {
                const option = document.createElement('option');
                option.value = department;
                option.textContent = department;
                examDepartmentSelect.appendChild(option);
            });
        }
    }
    examFacultySelect.addEventListener('change', populateExamDepartments);


    // --- Core Signup/Profile Logic ---
    const storedSignedUp = localStorage.getItem('signedUp');
    const storedName = localStorage.getItem('name');
    const storedLevel = localStorage.getItem('level');
    const storedFaculty = localStorage.getItem('faculty');
    const storedDepartment = localStorage.getItem('department');

    function typeWelcomeMessage(name) {
      welcomeMessageElement.textContent = "";
      let i = 0;
      if (welcomeMessageElement._typingIntervalId) {
        clearInterval(welcomeMessageElement._typingIntervalId);
      }
      welcomeMessageElement.classList.remove('typing-complete');

      welcomeMessageElement._typingIntervalId = setInterval(() => {
        welcomeMessageElement.textContent += name[i];
        i++;
        if (i === name.length) {
          clearInterval(welcomeMessageElement._typingIntervalId);
          welcomeMessageElement.classList.add('typing-complete');
        }
      }, 100);
    }

    if (!storedSignedUp) {
      signupModal.style.display = 'flex';
      populateFaculties();
    } else {
      typeWelcomeMessage(storedName);
      userLevelDisplay.textContent = storedLevel ? `Level: ${storedLevel}` : '';
    }

    function handleSignup() {
      const name = nameInput.value.trim();
      const faculty = profileFacultySelect.value;
      const department = profileCourseSelect.value;
      const level = levelSelect.value;

      if (!name) { alert('Please enter your name.'); return; }
      if (!faculty) { alert('Please select your Faculty.'); return; }
      if (!department) { alert('Please select your Department/Course of Study.'); return; }
      if (!level) { alert('Please select your Level.'); return; }

      localStorage.setItem('signedUp', 'true');
      localStorage.setItem('name', name);
      localStorage.setItem('faculty', faculty);
      localStorage.setItem('department', department);
      localStorage.setItem('level', level);

      signupModal.style.display = 'none';
      typeWelcomeMessage(name);
      userLevelDisplay.textContent = level ? `Level: ${level}` : '';
      alert('Sign up complete! Welcome!');
    }

    function reRegister() {
      localStorage.removeItem('signedUp');
      localStorage.removeItem('name');
      localStorage.removeItem('department');
      localStorage.removeItem('faculty');
      localStorage.removeItem('level');
      
      nameInput.value = '';
      profileFacultySelect.value = '';
      profileCourseSelect.innerHTML = '<option value="" disabled selected>Select Department/Course</option>';
      levelSelect.value = '';

      signupModal.style.display = 'flex';
      populateFaculties();
      welcomeMessageElement.textContent = 'Welcome User';
      userLevelDisplay.textContent = '';
      alert('You can re-register now. Please fill out the form.');
    }

    // --- NEW Modal Control Functions ---

    // Academics Modal
    function openAcademicsChoiceModal() {
        academicsChoiceModal.style.display = 'flex';
    }

    function closeAcademicsChoiceModal() {
        academicsChoiceModal.style.display = 'none';
    }

    function openExamSelectionModalFromAcademics() {
        closeAcademicsChoiceModal(); // Close the academics choice modal first
        openExamSelectionModal(); // Then open the exam selection modal
    }

    // Exam Selection Modal
    function openExamSelectionModal() {
        examSelectionModal.style.display = 'flex';
        populateExamFaculties(); // Populate faculties when modal opens

        // Pre-fill with user's saved profile data
        const storedFaculty = localStorage.getItem('faculty');
        const storedDepartment = localStorage.getItem('department');
        const storedLevel = localStorage.getItem('level');

        if (storedFaculty) {
            examFacultySelect.value = storedFaculty;
            populateExamDepartments(); // Populate departments based on pre-filled faculty
            if (storedDepartment) {
                examDepartmentSelect.value = storedDepartment;
            }
        }
        if (storedLevel) {
            examLevelSelect.value = storedLevel;
        }
        examCourseCodeInput.value = ''; // Clear previous course code
    }

    function closeExamSelectionModal() {
        examSelectionModal.style.display = 'none';
    }

    function startMockExam() {
        const faculty = examFacultySelect.value;
        const department = examDepartmentSelect.value;
        const level = examLevelSelect.value;
        const courseCode = examCourseCodeInput.value.trim();

        if (!faculty) { alert("Please select a Faculty for the exam."); return; }
        if (!department) { alert("Please select a Department for the exam."); return; }
        if (!level) { alert("Please select a Level for the exam."); return; }

        let queryString = `?faculty=${encodeURIComponent(faculty)}&department=${encodeURIComponent(department)}&level=${encodeURIComponent(level)}`;
        if (courseCode) {
            queryString += `&courseCode=${encodeURIComponent(courseCode.toUpperCase())}`;
        }

        closeExamSelectionModal();
        window.location.href = 'exam.html' + queryString; // Redirect to exam.html (or cbe.html if you rename it)
    }

    // Community Modal
    function openCommunityChoiceModal() {
        communityChoiceModal.style.display = 'flex';
    }

    function closeCommunityChoiceModal() {
        communityChoiceModal.style.display = 'none';
    }

  </script>
</body>
</html>
